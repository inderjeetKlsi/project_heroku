<!DOCTYPE html>
<!--[if !IE]><!-->
<html>
    <!--<![endif]-->
    <!-- BEGIN HEAD -->
    <head>
        <meta charset="utf-8">
        <title>Home</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
            <script src="angular.min.js"></script> 
            <link rel="stylesheet" href="bootstrap.min.css">
            <link href="../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
            <link href="../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
            <link href="../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
            <link href="../assets/pages/css/profile.min.css" rel="stylesheet" type="text/css" />
            <link href="../assets/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css" />
            <link href="../assets/global/css/plugins.min.css" rel="stylesheet" type="text/css" />
            <link href="../assets/layouts/layout/css/layout.min.css" rel="stylesheet" type="text/css" />
            <link href="../assets/layouts/layout/css/themes/darkblue.min.css" rel="stylesheet" type="text/css" id="style_color" />
            <link href="../assets/layouts/layout/css/custom.min.css" rel="stylesheet" type="text/css" />
            <link href="../css/anova_custom_style.css" rel="stylesheet" type="text/css" />
            <script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
            <script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
            <link href="../css/new_anova_style.css" rel="stylesheet" type="text/css" />   
            
    </head>

    <body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white" ng-app="myApp" ng-controller="addCustomerController">
        <div class="page-header navbar navbar-fixed-top">
            <div class="page-header-inner ">
                    <div class="page-logo">
                        <a href="dashboard.html"><img src="../images/logo.png" alt="Anova Golf" class="logo-default" style="margin-top:5px"/> </a>
                        <div class="menu-toggler sidebar-toggler"> </div>
                    </div>
                    <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse"> </a>
                    <div class="top-menu">
                        <ul class="nav navbar-nav pull-right">
                            <li class="dropdown dropdown-user">
                                <ul class="dropdown-menu dropdown-menu-default">
                                    <li>
                                        <a href="edit_profile.html">
                                            <i class="icon-user"></i> Profile </a>
                                    </li>
                                    <li class="divider"> </li>
                                    <li>
                                        <a href="logout">
                                            <i class="fa fa-cog" aria-hidden="true"></i></i> Logout </a>
                                    </li>
                                    <li class="divider"> </li>
                                </ul>
                                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                                    <span class="username username-hide-on-mobile">Welcome  Admin</span>
                                    <i class="fa fa-angle-down"></i>
                                </a>
                            </li>
                        </ul>
                        
                        <ul class="nav navbar-nav pull-right">
                            <li>
                                <a href="" target="_blank">
                                   <i class="icon-question" aria-hidden="true"></i> Get Help 
                               </a>
                           </li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="clearfix"> </div>
            <div class="page-container">
                <div class="page-sidebar-wrapper">
                    <div class="page-sidebar navbar-collapse collapse">
                        <ul class="page-sidebar-menu  page-header-fixed " data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200">
                            <li class="sidebar-toggler-wrapper hide">
                                <div class="sidebar-toggler"> </div>
                            </li>
                            <li class="nav-item start">
                                <a href="home" class="nav-link nav-toggle">
                                    <i class="icon-home"></i>
                                    <span class="title">Dashboard</span>
                                    <span class="selected"></span>
                                </a>
                            </li>
                            <li class="nav-item start active open">
                                <a href="addCustomer" class="nav-link nav-toggle">
                                    <i class="icon-home"></i>
                                    <span class="title">Add New Customer</span>
                                    <span class="selected"></span>
                                </a>
                            </li>
                            <li class="nav-item start">
                                <a href="customerList" class="nav-link nav-toggle">
                                    <i class="icon-home"></i>
                                    <span class="title">Customers List</span>
                                    <span class="selected"></span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                
                
            <div class="page-content-wrapper">
                <div class="page-content">
                    <div class="page-bar">
                        <ul class="page-breadcrumb">
                            <li>
                                <a href="addCustomer">Add New Customer</a>
                            </li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="col-md-10" style="margin-left: 25px;">
                            <div class="row">
                                <div class="col-md-12">
                                    <p class="info">{{status}}</p>
                                </div>
                            </div>
                            <div class="portlet light">
                                <div class="portlet-body">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="portlet light">
                                                <div class="portlet-title">
                                                    <div class="caption font-red-sunglo">
                                                        <span class="caption-subject bold uppercase"> Add Customer Details</span>
                                                    </div>
                                                </div>
                                                <div class="portlet-body form">
                                                    <form  name="addCustomerForm" role="form" novalidate ng-submit="addCustomerDetails()">
                                                        <div class="form-body">
                                                            <div class="form-group" ng-class="{'has-error': (addCustomerForm.szEmail.$touched && addCustomerForm.szEmail.$invalid && addCustomerForm.szEmail.$error.required) || addCustomerForm.szEmail.$error.pattern}">
                                                                <label>Email Address</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="fa fa-envelope"></i>
                                                                    </span>
                                                                    <input type="email" class="form-control" name="szEmail" placeholder="Email Address" type="text" data-ng-model="customer.szEmail" ng-pattern="isValidEmail" required> </div>
                                                                    <span class="help-block" ng-show="addCustomerForm.szEmail.$error.pattern">Please enter a valid email.</span> 
                                                                    <span class="help-block" ng-if="addCustomerForm.szEmail.$touched && addCustomerForm.szEmail.$invalid && addCustomerForm.szEmail.$error.required" ng-messages="addCustomerForm.szEmail.$error">Email address is required field.</span> 
                                                            </div>
                                                            <div class="form-group" ng-class="{'has-error': addCustomerForm.szFirstName.$touched && addCustomerForm.szFirstName.$error.required}">
                                                                <label>First Name</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="fa fa-user-plus"></i>
                                                                    </span>
                                                                    <input class="form-control" name="szFirstName" placeholder="First Name" type="text" data-ng-model="customer.szFirstName" required> </div>
                                                                    <span class="help-block" ng-if="addCustomerForm.szFirstName.$touched && addCustomerForm.szFirstName.$error.required" ng-messages="addCustomerForm.szFirstName.$error">First Name is required field.</span>
                                                            </div>
                                                            <div class="form-group" ng-class="{'has-error': addCustomerForm.szLastName.$touched && addCustomerForm.szLastName.$error.required}">
                                                                <label>Last Name</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-addon">
                                                                        <i class="fa fa-user-plus"></i>
                                                                    </span>
                                                                    <input class="form-control" name="szLastName" placeholder="Last Name" type="text" data-ng-model="customer.szLastName" required> </div>
                                                                    <span class="help-block" ng-if="addCustomerForm.szLastName.$touched && addCustomerForm.szLastName.$error.required" ng-messages="addCustomerForm.szLastName.$error">Last Name is required field.</span>
                                                            </div>
                                                            <div class="form-group"  ng-class="{'has-error': addCustomerForm.szCountry.$touched && addCustomerForm.szCountry.$error.required}">
                                                                <label>Country</label>
                                                                <select class="form-control" name="szCountry" data-ng-model="customer.szCountry" required>
                                                                    <option value=''>Select Country</option>
                                                                    <option value="India">India</option>
                                                                    <option value="USA">USA</option>
                                                                    <option value="UK">UK</option>
                                                                    <option value="Germany">Germany</option>
                                                                    <option value="France">France</option>
                                                                </select>
                                                                <span class="help-block" ng-if="addCustomerForm.szCountry.$touched && addCustomerForm.szCountry.$error.required" ng-messages="addCustomerForm.szCountry.$error">Please select country.</span>
                                                            </div>
                                                            
                                                            <div class="form-group"  ng-class="{'has-error': addCustomerForm.szDescription.$touched && addCustomerForm.szDescription.$error.required}">
                                                                <label>About</label>
                                                                <textarea class="form-control" rows="3" name="szDescription" data-ng-model="customer.szDescription" required></textarea>
                                                                <span class="help-block" ng-if="addCustomerForm.szDescription.$touched && addCustomerForm.szDescription.$error.required" ng-messages="addCustomerForm.szDescription.$error">Please enter customer description.</span>
                                                            </div>
                                                            <div class="form-group" ng-class="{'has-error': addCustomerForm.szGender.$touched && addCustomerForm.szGender.$error.required}">
                                                                <label>Gender</label>
                                                                <div class="radio-list">
                                                                    <label>
                                                                        <div class="radio" id="uniform-optionsRadios1">
                                                                            <span>
                                                                                <input name="szGender" id="szGender" value="Male" type="radio" data-ng-model="customer.szGender" required>
                                                                            </span>
                                                                        </div> Male
                                                                    </label>
                                                                    <label>
                                                                        <div class="radio" id="uniform-optionsRadios1">
                                                                            <span>
                                                                                <input name="szGender" id="szGender" value="Female" checked="" type="radio" data-ng-model="customer.szGender" required>
                                                                            </span>
                                                                        </div> Female
                                                                    </label>
                                                                </div>
                                                                <span class="help-block" ng-if="addCustomerForm.szGender.$touched && addCustomerForm.szGender.$error.required" ng-messages="addCustomerForm.szGender.$error">Please select customer gender.</span>
                                                            </div>
                                                        </div>
                                                        <div class="form-actions">
                                                            <button type="submit"  ng-disabled="!addCustomerForm.$valid" class="btn blue">Submit</button>
                                                            <button type="button" class="btn default">Cancel</button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>        
                </div>
            </div>

        </div> 
        <div class="page-footer">
            <div class="page-footer-inner"> 2016 &copy; Anova Golf. All rights reserved. <a href="#">Privacy Policy</a> | <a href="#">Terms & Conditions</a> | <a href="#">Site Map</a>
            </div>
        </div>
        <script src="../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
        <script src="../assets/global/scripts/app.min.js" type="text/javascript"></script>
        <script src="../assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
        <script src="../assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
        <script src="../assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
    </body>
</html>

<script>
var app = angular.module('myApp', []);
app.controller('addCustomerController', function($scope, $http) {
console.log($scope);
$scope.isValidEmail = "[^@]+@[^@]+\.[a-zA-Z]{2,6}";
$scope.addCustomerDetails = function () {
            var apiURL ="http://localhost:3000/addCustomerDetails";
            $http({
                method: 'GET',
                url: apiURL,
                data: JSON.stringify($scope.customer),
                headers: { 'Content-Type': 'application/JSON' }
            }).
            success(function (data) {
                $scope.status = "New Customer Successfully Added.";
            })
            .error(function (error) {
                //Showing error message
                $scope.status = 'Unable to add new customer: ' + error;
            });
        }
});
</script>